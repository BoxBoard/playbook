<%= content_tag(:div,
    id: object.id,
    data: object.data,
    class: object.classname,
    aria: object.aria) do %>

  <%= pb_rails("flex", props: {vertical: "center", spacing: "between"}) do %>
    <%= pb_rails("flex/flex_item") do %>
      <%= capture(&object.children) %>
    <% end %>
    <%= pb_rails("flex/flex_item") do %>
      <i class="far fa-chevron-down"></i>
    <% end %>
  <% end %>
<% end %>
<%= javascript_tag do %>
  window.addEventListener('DOMContentLoaded', function() {
    document.querySelector(".pb_collapsible_main_kit").addEventListener("click", (event) => {
      console.log(event.currentTarget.classList)
      toggleContent(event)
    })

    function toggleContent(event) {
      event.currentTarget.classList.toggle("closed")
    }
  })
<% end %>
