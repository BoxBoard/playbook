<%= content_tag(:div,
    aria: object.aria,
    class: object.classname,
    data: object.data) do %>
  <% if object.label.present? %>
    <%= pb_rails("caption", props: { text: object.label, dark: object.dark, classname: "pb_text_input_kit_label" }) %>
  <% end %>
  <%= content_tag(:div, class: "#{object.add_on_class} text_input_wrapper") do %>
    <% if content.present? %>
      <%= content %>
    <% else %>
      <% if add_on[:alignment] == 'right' %>
        <%= pb_rails("flex", props: {classname: "flex-container", vertical: "stretch"}) do %>
          <%= input_tag %>
          <%= pb_rails("section_separator", props: { orientation: "vertical" }) if add_on[:border] %>
          <%= pb_rails("icon", props: { icon: add_on[:icon] }) %>
        <% end %>
      <% elsif add_on[:alignment] == 'left' %>
        <%= pb_rails("flex", props: {classname: "flex-container", vertical: "stretch"}) do %>
          <%= pb_rails("icon", props: { icon: add_on[:icon] }) %>
          <%= pb_rails("section_separator", props: { orientation: "vertical" }) if add_on[:border] %>
          <%= input_tag %>
        <% end %>
      <% else %>
        <%= input_tag %>
      <% end %>
    <% end %>
    <%= pb_rails("body", props: {dark: object.dark, status: "negative", text: object.error}) if object.error %>
  <% end %>
<% end %>
