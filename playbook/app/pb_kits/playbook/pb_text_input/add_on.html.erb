<%= pb_rails("flex", props: { classname: "text_input_wrapper_add_on flex-container", direction: "direction" }) do %>
  <% if alignment == "right" %>
    <%= pb_rails("flex/flex_item", props: { grow: true }) do %>
      <%= content %>
    <% end %>
    <%= pb_rails("flex/flex_item") do %>
      <%= pb_rails("section_separator", props: { orientation: "vertical" }) if border %>
    <% end %>
    <%= pb_rails("flex/flex_item") do %>
      <%= pb_rails("icon", props: { icon: icon }) %>
    <% end %>
  <% else %>
    <%= pb_rails("flex/flex_item") do %>
      <%= pb_rails("icon", props: { icon: icon }) %>
    <% end %>
    <%= pb_rails("flex/flex_item") do %>
      <%= pb_rails("section_separator", props: { orientation: "vertical" }) if border %>
    <% end %>
    <%= pb_rails("flex/flex_item", props: { grow: true }) do %>
      <%= content %>
    <% end %>
  <% end %>
<% end %>
