
<%= pb_rails("rich_text_editor", props: { id: "content-preview-editor" }) %>
<div id="card-obfuscation" style="display:none">
  <%= pb_rails("card", props: { margin_top: "md" }) do %>
   <div id="content-preview" class="trix-content">
   </div>
  <% end %>
</div>
<%= pb_rails("button", props: { id: "preview-button", variant: "secondary", margin_top: "md" }) do %>
  <span>Preview Output</span>
<% end %>

<script>
  // Button event handler
  const button = document.getElementById('preview-button');
  button.addEventListener('click', function() {
    const content = document.getElementById('content-preview-editor');
    const previewArea = document.getElementById('content-preview');
    const cardDiv = document.getElementById('card-obfuscation');

    previewArea.innerHTML = content.value;
    cardDiv.classList.add('mt_md');
    cardDiv.style.display = 'block';
  });
</script>